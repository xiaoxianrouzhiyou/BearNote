### 总论

1. 概述

   * 目标+方案+限制条件
   * 目标是方案的“函数”
   * 变量+目标函数+约束条件

2. 常见类型

   * 无约束极值问题：求导，驻点，是否是极值点
   * 具有等式约束的极值问题：拉格朗日乘数法，把这个问题转为无约束极值问题

   $$
   变量V=f(x,y,z)=xyz\\
   条件\phi(x,y,z)=2(yz+xz+xy)-6a^2=0\\
   列出函数F(x,y,z)=xyz+\lambda(2yz+2xz+2xy-6a^2)\\
   求偏导为0
   $$

   * 具有不等式约束的极值问题

3. 困难

   * 变量多，方程组非线性
   * 不等式限制条件

4. 变量

   * 一个优化方案是由一组变量的最优组合表示
   * 变量的个数为优化问题的维数

5. 目标函数

   * 大小用来评价优化方案的好坏
   * 目标函数的极小化问题
   * 多目标函数，矢量优化问题
   
5. 约束函数

   * 等式约束，曲线曲面或超曲面，必须为上面一点，可以带入消去一个变量，降维
   * 不等式，限定为有一个区域里
   * 满足约束的点，容许点、可行点，集合为可行域、容许集
   
5. 二维最优化问题的图解法

   * 约束集合，等式为直线或曲线，不等式为直线或曲线分割的区域，交集为可行域
   * 等高线，简化三维曲面
   * 做题求解，目标函数落在可行域上时，使之取最小值的点
   
5. 迭代解法

   * 选定初始点，根据目标函数、约束函数，确定迭代的搜索方向和步长，到达新点
   
   * 每一步都应使目标函数有所改善
   
   * 收敛速度
     $$
     \lim_{k\to\infty}\frac{||X_{k+1}-X^*||}{||X_k-X^*||^a}=q
     $$
   
     * a=1,q>0，线性收敛
     * 1<a<2,q>0或a=1,q=0超线性收敛
     * a=2，二阶收敛
     * 超线性、二阶更快！
   
5. 计算终止准则

   * 点距准则：相邻两迭代点之间距离很小
   
   * 函数下降量准则：相邻两迭代点函数值下降量很小
     $$
     当|f(X_{k+1})|<1,||f(X_{k+1})-f(X_k)|<\epsilon\\
     当|f(X_{k+1})|>1,用相对,\frac{|f(X_{k+1})-f(X_k)|}{|f(X_{k+1})|}<\epsilon
     $$
   
   * 梯度准则：目标函数在迭代点的体素已经很小，但对于非凸函数，容易错把驻点当做最优点
   
5. 组合优化问题

   * 可行解集合为有限集，可以进行逐点判别，选最优解
     * 0-1背包问题：多件物品，有限容量，每个物品有价值
     * 旅行商问题
     * 聚类问题
   * P、NP、NP完全
   
5. 二次型

   * 实对称矩阵
   
   $$
   f(x_1,x_2,...,x_n)=\sum^n_{i=1}\sum^n_{j=1}a_{ij}x_ix_j=[x_1,x_2,...,x_n]A[{x_1 \atop {x_2 \atop x_n }}]=X^TAX\\
   A=A^T
   $$
   
   * 正定矩阵
     $$
     f(x_1,x_2,...,x_n)>0,对于一组不为0的数\\
     \geq0,半正定\\
     \leq0,半负定\\
     不定
     $$
   
   * 矩阵A正定的充要条件，他的行列式的顺序主子式全部大于0
   * 正定矩阵是非奇异的
   
5. 梯度

   * f(X)的n个偏导数为分量的向量，f(X)关于X的一阶导数
     $$
     \nabla{f(X)}=[\frac{\partial f(X)}{\partial x_1},...,\frac{\partial f(X)}{\partial x_n}]^T\\
     \nabla c=0\\
     \nabla(b^TX)=b\\
     \nabla(X^TX)=2X\\
     对称矩阵A,\nabla(X^TAX=2AX)
     $$
   
   * 
   
   * 梯度与方向导数
     $$
     \frac{\partial f(X_0)}{\partial P}=\nabla f(X_0)^Te,e是P方向的单位向量
     $$
   
   * 沿着梯度最快，函数在与其梯度正交的方向上变化率为0
   
5. Hesse矩阵

   * $$
     \nabla^2f(X_0)=[{\frac{\partial^2f(X_0)}{\partial x^2_1}\ \frac{\partial^2f(X_0)}{\partial x_1\partial x_2}... \atop ...}]
     $$
   
   * 当在X0处所有二阶偏导数连续时，矩阵是对称的
   
   * 线性函数的一阶导数为常向量，二阶导数为零矩阵
     $$
     f(X)=a^TX+b\\
     \nabla=a\\
     \nabla^2=0
     $$
   
   * 二次函数的一阶导数为线性向量函数，二阶导数为常矩阵
     $$
     f(X)=\frac{1}{2}X^TAX+b^TX+c\\
     \nabla=AX+b\\
     \nabla^2=A
     $$
   
5. Jacobi矩阵

   * 定义
   
   $$
   H(X)=[h_1(X),...,h_m(X)]^T\\
   \nabla H(X_0)=\nabla_{m\times n}H(X_0)\\
   \frac{\partial h_i(X_0)}{\partial x_j}\\
   i随行，j随列
   $$
   
   * 函数梯度的Jacobi矩阵为此函数的Hesse矩阵
     $$
     \nabla_{n\times n}\nabla f(X)=\nabla^2f(X)
     $$
   
   * 特殊
     $$
     \nabla c=0,c是分量全为常数的n维向量，0是n\times n的零矩阵\\
     \nabla X=I,X是n维向量，I是n\times n单位矩阵\\
     \nabla(AX)=A,A是m\times n矩阵\\
     \phi(t)=f(X_0+tP),f:R^n\rightarrow R^1,\phi:R^1\rightarrow R^1\\
     \phi'(t)=\nabla f(X_0+tP)^TP,\phi''(t)=P^T\nabla^2f(X_0+tP)^TP
     $$
   
5. 泰勒展开式
   $$
   f(X+P)=f(X)+\nabla f(X)^TP+\frac{1}{2}P^T\nabla^2f(X)P+o(||P||^2)
   $$
   
5. 极小值

   * 局部极小值，内点，梯度为0
   * 若多元函数在极小点处的Hesse矩阵是正定的，这个极小点附近的等值面近似为同心椭圆面簇
   
5. 凸

   * 锥：任意X属于C，乘以非负数也属于C
   
   * 凸集：C中两个X的线性组合（系数和为1），也属于C
   
   * 凸锥
   
   * 半空间
     $$
     \{X|a^TX>b\},a\in R^n,b\in R^1
     $$
   
   * 有限半空间的交，称为多面集，A为矩阵，b为向量
     $$
     \{X|AX\leq b\}
     $$
   
   * 
   
   * **极点**：如圆周上的点，多边形顶点，极点不能表示成两个不同点的凸组合，凸集中任何一点都能表示成极点的凸组合
   * 方向、极方向：例如第一象限区域，(1,0)和(0,1)是极方向，其他0~90度（称为方向）都可以用极方向的正线性组合表示
   * 有界多面集：每个点可由极点的凸组合来表示；无界多面集：只由极点不够，还必须有极方向
   * 凸集分离by超平面
   
5. 凸函数

   * 一致凸、严格凸、凸、伪凸、严格拟凸、拟凸、强拟凸
   
5. 凸规划

   * C是非空凸集，f是凸函数，minf(X)称为凸规划问题
   
   * 如果f是凸函数，局部极小值是全局极小值
   
   * 如果f是严格凸函数，局部极小值是唯一全局极小值
   
   * **n元二次函数**，A是对称矩阵，若A为正定，则正定二次函数是严格凸函数
     $$
     f(X)=\frac{1}{2}X^TAX+b^TX+c
     $$
   
   * 二次规划问题
     $$
     \min f(X)=\frac{1}{2}X^TAX+b^TX+c\\
     QX\geq P\\
     HX=d
     $$
   
   * 若A为半正定或正定，二次凸规划问题
   
5. 约束优化问题局部解得一阶必要条件

   * 可行点Xk起作用约束，在Xk邻域内起到限制可行域范围的作用
     $$
     g_i(X_k)=0
     $$
   
   * 不起作用约束，>0，在Xk邻域内不产生影响，都是不起作用的约束，则约束优化问题与无约束优化问题是等价的
   
   * IP型约束问题（不等式约束）（g是起作用约束）
     $$
     \nabla f(X^*)-\sum^l_{i=1}\lambda_i^*\nabla g_i(X^*)=0\\
     \lambda_i^*\geq 0\\
     g_i(X^*)\geq0\\
     \lambda_i^*g_i(X^*)=0
     $$
   
   * EP型约束问题（一个等式约束）
     $$
     \nabla f(X^*)-\sum^m_{j=1}\mu_j^*\nabla h_j(X^*)=0\\
     h_j(X^*)=0
     $$
   
   * GP型（不等式+等式）
     $$
     \nabla f(X^*)-\sum^l_{i=1}\lambda_i^*\nabla g_i(X^*)-\sum^m_{j=1}\mu_j^*\nabla h_j(X^*)=0\\
     \lambda_i^*\geq 0\\
     g_i(X^*)\geq0\\
     \lambda_i^*g_i(X^*)=0\\
     h_j(X^*)=0
     $$
   
   * 
   
   * 广义拉格朗日函数
     $$
     L(X,\lambda,\mu)=f(X)-\sum^l_{i=1}\lambda_ig_i(X)-\sum^m_{j=1}\mu_jh_j(X)
     $$
   
   * Kuhn-Tucker条件：判断Xk是不是约束最优点（局部），是必要条件，如果是凸规划问题，则是充要条件，全局最优
   
5. 约束优化问题局部解的二阶充分条件

   * 对于GP，严格局部极小点
     $$
     非零向量Z\\
     Z^T\nabla g_i(X^*)=0\\
     Z^T\nabla g_i(X^*)\ge0\\
     Z^T\nabla h_j(X^*)=0\\
     Z^T[\nabla^2f(X^*)-\sum^l_{i=1}\lambda_i^*\nabla^2g_i(X^*)-\sum^m_{j=1}u_j^*\nabla^2h_j(X^*)]Z>0
     $$
     

